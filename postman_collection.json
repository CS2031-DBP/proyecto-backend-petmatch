{
  "info": {
    "name": "PetMatch API",
    "description": "# PetMatch API - Documentaci贸n Completa\n\n## Descripci贸n del Proyecto\nPetMatch es una plataforma que conecta albergues de animales con usuarios interesados en adopci贸n y voluntariado. La API permite gestionar:\n- Registro y autenticaci贸n de usuarios y albergues\n- Gesti贸n de animales reportados y en adopci贸n\n- Publicaciones sobre mascotas\n- Programas de voluntariado\n- Sistema de comentarios\n\n## Autenticaci贸n\nLa API utiliza JWT (JSON Web Tokens) para autenticaci贸n. Despu茅s de hacer login o registro, se recibe un token que debe incluirse en el header `Authorization: Bearer {token}` para endpoints protegidos.\n\n### Roles:\n- **USER**: Usuario regular que puede reportar animales, inscribirse en programas de voluntariado\n- **ALBERGUE**: Albergue que puede gestionar sus publicaciones, programas y animales\n\n## Variables de Entorno\n- `base_url`: URL base del servidor (ej: http://localhost:8080)\n- `token`: Token JWT obtenido despu茅s de autenticaci贸n\n\n## Flujo de Uso Recomendado\n1. Registrar/Login como Usuario o Albergue\n2. Guardar el token recibido en la variable `{{token}}`\n3. Usar endpoints seg煤n el rol correspondiente",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints de autenticaci贸n para usuarios y albergues. Generan tokens JWT necesarios para acceder a endpoints protegidos.",
      "item": [
        {
          "name": "User Register",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"juan_perez\",\n  \"email\": \"juan.perez@email.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/register",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "register"]
            },
            "description": "**Importancia:** Permite que nuevos usuarios se registren en la plataforma con rol USER.\n\n**Ejemplo de uso:** Un ciudadano que desea reportar animales o ser voluntario.\n\n**Response (201):**\n```json\n{\n  \"id\": 1,\n  \"username\": \"juan_perez\",\n  \"token\": \"eyJhbGci...\",\n  \"role\": \"USER\"\n}\n```"
          }
        },
        {
          "name": "User Login",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"juan_perez\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/login",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "login"]
            },
            "description": "**Importancia:** Autentica usuarios existentes y genera token de sesi贸n.\n\n**Ejemplo de uso:** Usuario regresa a la plataforma para inscribirse en programa de voluntariado.\n\n**锔 IMPORTANTE:** Copiar el token del response y guardarlo en la variable `{{token}}`"
          }
        },
        {
          "name": "Shelter Register",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Albergue Huellitas\",\n  \"email\": \"contacto@huellitas.com\",\n  \"password\": \"albergue123\",\n  \"address\": \"Av. Los Perros 123, Lima\",\n  \"phone\": 987654321\n}"
            },
            "url": {
              "raw": "{{base_url}}/albergues/auth/register",
              "host": ["{{base_url}}"],
              "path": ["albergues", "auth", "register"]
            },
            "description": "**Importancia:** Permite que albergues se registren con rol ALBERGUE para gestionar animales y programas.\n\n**Ejemplo de uso:** Nueva organizaci贸n de rescate animal se une a la plataforma."
          }
        },
        {
          "name": "Shelter Login",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"contacto@huellitas.com\",\n  \"password\": \"albergue123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/albergues/auth/login",
              "host": ["{{base_url}}"],
              "path": ["albergues", "auth", "login"]
            },
            "description": "**Importancia:** Autentica albergues para acceder a funciones administrativas.\n\n**锔 IMPORTANTE:** Guardar el token en variable `{{token}}`"
          }
        }
      ]
    },
    {
      "name": "Shelters",
      "description": "Endpoints para consultar y administrar informaci贸n de albergues.",
      "item": [
        {
          "name": "Get All Shelters",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues",
              "host": ["{{base_url}}"],
              "path": ["albergues"]
            },
            "description": "**Importancia:** Endpoint p煤blico que lista todos los albergues. Permite a usuarios explorar opciones.\n\n**Ejemplo de uso:** Usuario busca albergues para adoptar o ser voluntario."
          }
        },
        {
          "name": "Get Shelters Near",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues/near/-12.0464/-77.0428",
              "host": ["{{base_url}}"],
              "path": ["albergues", "near", "-12.0464", "-77.0428"]
            },
            "description": "**Importancia:** Encuentra albergues cercanos por geolocalizaci贸n. Facilita adopciones locales.\n\n**Par谩metros:** latitude, longitude\n\n**Ejemplo:** Buscar albergues cerca de Lima centro."
          }
        },
        {
          "name": "Delete Shelter",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["albergues", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Permite a albergues darse de baja.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**锔 Advertencia:** Acci贸n irreversible."
          }
        },
        {
          "name": "Update Available Seats",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues/mascotas_registradas/35/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["albergues", "mascotas_registradas", "35", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Actualiza n煤mero de mascotas registradas para calcular disponibilidad.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Albergue recibe 5 animales nuevos y actualiza de 30 a 35."
          }
        },
        {
          "name": "Update Address",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues/actualizacion_address/Av. Nueva 456/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["albergues", "actualizacion_address", "Av. Nueva 456", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Mantiene informaci贸n de ubicaci贸n actualizada.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE"
          }
        },
        {
          "name": "Update Phone",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/albergues/actualizacion_telefono/999888777/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["albergues", "actualizacion_telefono", "999888777", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Actualiza tel茅fono de contacto para facilitar comunicaci贸n.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE"
          }
        }
      ]
    },
    {
      "name": "Animals",
      "description": "Endpoints para reportar y administrar animales.",
      "item": [
        {
          "name": "Create Report",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Firulais\",\n  \"species\": \"Perro\",\n  \"breed\": \"Mestizo\",\n  \"age\": 3,\n  \"description\": \"Perro encontrado en Av. Larco\",\n  \"location\": \"Miraflores, Lima\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/report",
              "host": ["{{base_url}}"],
              "path": ["user", "report"]
            },
            "description": "**Importancia:** Permite reportar animales encontrados. No requiere autenticaci贸n para facilitar reportes r谩pidos.\n\n**Ejemplo de uso:** Ciudadano encuentra perro abandonado y lo reporta para que albergues lo rescaten."
          }
        },
        {
          "name": "Assign Shelter to Animal",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/animales/Firulais/asignar/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["animales", "Firulais", "asignar", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Permite a albergues reclamar animales reportados y hacerse responsables.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Albergue ve reporte de perro abandonado y lo asigna a su refugio."
          }
        }
      ]
    },
    {
      "name": "Posts",
      "description": "Endpoints para crear y consultar publicaciones sobre mascotas.",
      "item": [
        {
          "name": "Get All Posts",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts",
              "host": ["{{base_url}}"],
              "path": ["posts"]
            },
            "description": "**Importancia:** Muestra todas las publicaciones de todos los albergues. Feed principal p煤blico.\n\n**Ejemplo de uso:** Usuario explora historias de adopci贸n y animales disponibles."
          }
        },
        {
          "name": "Get Post by Title",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/Adopta a Max",
              "host": ["{{base_url}}"],
              "path": ["posts", "Adopta a Max"]
            },
            "description": "**Importancia:** Permite acceder a un post espec铆fico. til para compartir links directos.\n\n**Ejemplo:** Usuario comparte link de mascota espec铆fica en redes sociales."
          }
        },
        {
          "name": "Get Posts by Shelter",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/albergue/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["posts", "albergue", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Obtiene todos los posts de un albergue espec铆fico.\n\n**Ejemplo:** Usuario interesado en albergue espec铆fico ve todas sus publicaciones."
          }
        },
        {
          "name": "Create Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Adopta a Max\",\n  \"content\": \"Max es un perro de 2 a帽os buscando hogar\",\n  \"imageUrl\": \"https://example.com/max.jpg\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/posts/Albergue Huellitas",
              "host": ["{{base_url}}"],
              "path": ["posts", "Albergue Huellitas"]
            },
            "description": "**Importancia:** Permite a albergues crear publicaciones para difundir animales en adopci贸n.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Albergue publica sobre perro disponible para adopci贸n."
          }
        },
        {
          "name": "Delete Post",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/delete/Adopta a Max",
              "host": ["{{base_url}}"],
              "path": ["posts", "delete", "Adopta a Max"]
            },
            "description": "**Importancia:** Permite eliminar posts cuando animal es adoptado o post ya no es relevante.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE"
          }
        }
      ]
    },
    {
      "name": "Comments",
      "description": "Endpoints para gestionar comentarios en publicaciones.",
      "item": [
        {
          "name": "Get Comments by Username",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/comentarios/juan_perez",
              "host": ["{{base_url}}"],
              "path": ["comentarios", "juan_perez"]
            },
            "description": "**Importancia:** Obtiene todos los comentarios realizados por un usuario espec铆fico.\n\n**Ejemplo de uso:** Ver historial de interacciones de un usuario en la plataforma."
          }
        },
        {
          "name": "Get Comments by Post",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/comentarios/by_post/Adopta a Max",
              "host": ["{{base_url}}"],
              "path": ["comentarios", "by_post", "Adopta a Max"]
            },
            "description": "**Importancia:** Muestra todos los comentarios de un post espec铆fico. Permite ver discusiones.\n\n**Ejemplo:** Usuario lee comentarios para obtener m谩s informaci贸n sobre mascota."
          }
        }
      ]
    },
    {
      "name": "Volunteer Programs",
      "description": "Endpoints para gestionar programas de voluntariado.",
      "item": [
        {
          "name": "Get All Programs",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas",
              "host": ["{{base_url}}"],
              "path": ["programas"]
            },
            "description": "**Importancia:** Lista todos los programas de voluntariado disponibles.\n\n**Ejemplo de uso:** Usuario busca oportunidades de voluntariado en albergues."
          }
        },
        {
          "name": "Get Volunteers in Program",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/1/voluntarios",
              "host": ["{{base_url}}"],
              "path": ["programas", "1", "voluntarios"]
            },
            "description": "**Importancia:** Lista voluntarios inscritos en un programa espec铆fico.\n\n**Ejemplo:** Albergue revisa lista de voluntarios confirmados para programa."
          }
        },
        {
          "name": "Create Program",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Programa de Paseo Canino\",\n  \"description\": \"Ayuda a pasear a nuestros perros los fines de semana\",\n  \"startDate\": \"2025-11-01\",\n  \"endDate\": \"2025-12-31\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/programas",
              "host": ["{{base_url}}"],
              "path": ["programas"]
            },
            "description": "**Importancia:** Permite a albergues crear programas de voluntariado.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Albergue necesita voluntarios para pasear perros los fines de semana."
          }
        },
        {
          "name": "Enroll in Program",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/1/inscripcion?voluntarioId=1",
              "host": ["{{base_url}}"],
              "path": ["programas", "1", "inscripcion"],
              "query": [
                {
                  "key": "voluntarioId",
                  "value": "1"
                }
              ]
            },
            "description": "**Importancia:** Permite a usuarios inscribirse como voluntarios en programas.\n\n**Autorizaci贸n:**  Requiere rol USER\n\n**Ejemplo:** Usuario se inscribe en programa de paseo de perros."
          }
        },
        {
          "name": "Unsubscribe from Program (User)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/1/inscripcion?voluntarioId=1",
              "host": ["{{base_url}}"],
              "path": ["programas", "1", "inscripcion"],
              "query": [
                {
                  "key": "voluntarioId",
                  "value": "1"
                }
              ]
            },
            "description": "**Importancia:** Permite a usuarios desinscribirse de programas.\n\n**Autorizaci贸n:**  Requiere rol USER\n\n**Ejemplo:** Usuario ya no puede asistir y cancela su inscripci贸n."
          }
        },
        {
          "name": "Remove Volunteer from Program (Shelter)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/alberge/1?voluntarioId=1",
              "host": ["{{base_url}}"],
              "path": ["programas", "alberge", "1"],
              "query": [
                {
                  "key": "voluntarioId",
                  "value": "1"
                }
              ]
            },
            "description": "**Importancia:** Permite a albergues remover voluntarios de programas.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Voluntario no cumple compromisos y es removido del programa."
          }
        },
        {
          "name": "Cancel My Inscription",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/1/insctipciones",
              "host": ["{{base_url}}"],
              "path": ["programas", "1", "insctipciones"]
            },
            "description": "**Importancia:** Permite cancelar inscripci贸n usando username del token.\n\n**Autorizaci贸n:**  Requiere autenticaci贸n\n\n**Ejemplo:** Usuario autenticado cancela su propia inscripci贸n."
          }
        },
        {
          "name": "Delete Program (Shelter)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/programas/albergue/1",
              "host": ["{{base_url}}"],
              "path": ["programas", "albergue", "1"]
            },
            "description": "**Importancia:** Permite a albergues eliminar programas completos.\n\n**Autorizaci贸n:**  Requiere rol ALBERGUE\n\n**Ejemplo:** Programa se cancela y albergue lo elimina de la plataforma."
          }
        }
      ]
    },
    {
      "name": "Volunteers",
      "description": "Endpoints para consultar informaci贸n de voluntarios.",
      "item": [
        {
          "name": "Get All Volunteers",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/voluntarios",
              "host": ["{{base_url}}"],
              "path": ["voluntarios"]
            },
            "description": "**Importancia:** Lista todos los voluntarios registrados en la plataforma.\n\n**Ejemplo de uso:** Ver comunidad de voluntarios activos."
          }
        },
        {
          "name": "Get Programs by Volunteer",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/voluntarios/1/programas",
              "host": ["{{base_url}}"],
              "path": ["voluntarios", "1", "programas"]
            },
            "description": "**Importancia:** Muestra todos los programas en los que est谩 inscrito un voluntario.\n\n**Ejemplo:** Ver compromiso y participaci贸n de un voluntario espec铆fico."
          }
        }
      ]
    }
  ]
}